#!/usr/bin/env ruby
#
# Convert base64-encoded transaction from MtGox: https://data.mtgox.com/api/0/bitcoin_tx.php
# into hex-encoded blockchain.info broadcast format: http://blockchain.info/pushtx

b = "AQAAAA5gpTBEnBaUTfIcLUAN8e6jsee37c97ftHtfH\/Xl7CUbwAAAACLSDBFAiEApkpegGIi\/a3eJMxhE\/B2Jgj8D9NsLKG0nCuuVqlZXDQCIHCS9CprboyheH2i\/0RKAR1N537kL8ObqS6YELKuNlJjAUEEl7kJqMY\/kPzUHYC9UZpoUjWk9q0GaCDT\/As9Oyj4k8Omna5PfXEOlgmoMGPeuaPdvrX5YvoIOgDt5YmGQlLU5P\/\/\/\/\/+BCVUK+snqr5aa5FHM5KCbObNyhMZO+ySTI4Hx5oVTwEAAACMSTBGAiEAw4Lr2YOhhzzAxcAon6RJpfnWkGPddxGhOZ9Z4B7Smr0CIQCZm1U6gUoB51O6CWNylmFXwS6CqJxSpauMLl55SWGG8QFBBME1N4MNJW3dGcwTc60X+q7Em6b23GoK+QnqA44LKDZNO1Z\/cK9bHCjnY\/QbljZM\/AabmG\/t8yZhLjGbYF8O9Gf\/\/\/\/\/w46DSYRF+4K203jp\/0wlB+YQMpF7BkOlJk61wbb2DlwBAAAAi0gwRQIgEK8POkLafi+rx8vdn2rI0Vx12e88R8hZiOQU+72W1IICIQCyDZxRvAWr\/aMdVnsMrwJ51C7D9+KNi7r+D\/RoIMhuuAFBBEhvV2zNdw4iqviZW+wnjhvnvzv6lFQRYoXCrf9orlqsWd3e83ifsabtGjgXgpqeEg7zqIheZl1oHNdPqWMFFfL\/\/\/\/\/lIiz4bFDwM0eerwMY5tmFUihgQzWBOW\/6IFZLXSYbRgAAAAAi0gwRQIgAkJaS+FQbpkRepZDnnAqnhvNFfNifPdhnYoL9+jyRoQCIQDy+GxDNBCRqqS6zI7ml7KhMvxlbFlH9tp66ABAL\/subAFBBCcjzZjgYZDXq1EcamMm17BeqOU1hTmaQic20TczNzOfDdVBEs5e6GhzCz5e8n8IGGM4kcNVLJDqWCKKAeMKzsr\/\/\/\/\/zoy8oH55hQs0dt71D71CCcpsvo++hnw0EReQy8N6\/6IAAAAAi0gwRQIgA0A0+S9GWJr95nmv\/nDsAMtMbY9A4nqRqJkjbF8\/SF8CIQD10rhtOw6V4oI69mMwPaEl2lwF0UztgzfgJNA\/V4yVQQFBBAJOvTvxWvvfvhXNFAytGq7tnBaau9kZg1odjv5VdJG3CD\/6JogGP+cuN8CGifOpheMy9wVCFPQBy\/NXPG\/+8Az\/\/\/\/\/8XNv\/XVGH1TrAR4eP83dzai7av1hpZ2NL116gfF8pHAAAAAAjEkwRgIhAIL5S5UaY25WX7ft9CUFzEo4c39\/QGuMy9bqi+lONG0jAiEA0PbPiTtQWYTbVMsqPJX0G9glnOLbF2BOjjwLgA6X3wQBQQT8txFQDpfQw6qeLq9JRY6aLCz2eUXI6yN9s44xXlo4z2NUX051QEKlCTwQSB6+z85Yh9gydgbZ0bX327rVeqvJ\/\/\/\/\/7pko4DJvRRmPsOeNLvh9dp00jihpNtQEi7eWnB\/UxfbAAAAAItIMEUCIA5Npskmq7m2bikd5fSA2iE4TKeCFrsUuSYt\/Ytvh3arAiEA8rPmnROglaJLJwGmcpPhrRBztCAfFnvYAij5f1G3zlwBQQRYSdO\/ZQYYCElyzEt4HvJfSw14RGI2rfs66xWDLvx7504OvOvtP+VjQkc6uFzVFcrgVt1Ng\/3f9i0\/7j1K41Og\/\/\/\/\/wZTWCmCUxT9x7W6FCMVvFWudPK9u5wlfuzTQgpJ9NHwAQAAAItIMEUCIHX3i9K1cqci4woVWkVt94LugBUU\/yx6ghZ6o7wLCcMIAiEA1JhkVnBT+03rqZUmFWpSycZOYaDOtZLfu7QG20MrZVABQQSrBUVYA6sOL92BX1anH3fxscYDn+iRxaFxw3q4scYnS\/eOzbIIor64FC27yuSwuZoDGAx8ejtTQae3ndLVNsnU\/\/\/\/\/+6i7RytXE10GgjoTfjZM1M4QaMn9VVj9wY65peWjnk0AAAAAItIMEUCIQDTJS478QKXlqEu5GXVcA0pjzmecRRqELxMhHladaQ6cQIgWMdgdbOWDaQAvafQKYi27YXl54LhfGwrupnJXUZXGA0BQQRmxjXA0Zl0oiod2DlB4Zql9VuuTcr7SAvdlbYxToa11ZDaqdgt5B7vK2SI7WsbDpyX1sagCZCSGSAGffs7BxkR\/\/\/\/\/7fl+i7qQb4SBNXvp3ZzpRRTcPMEALc+g7MuJVsOoSvfAQAAAItIMEUCIG+jFJgPeOm1TyDjubg7l72dYpHXLG9eHg3CVtJ\/zLl+AiEA9\/LtvLC2v0yA\/VTNWDRhYiAxkiCpVI2vfzBQBMf2LhEBQQS6ToEAnqnBObbloDppxbd3aQpVtAw2F+zhIP6HjxKxvgWPKuq0YQeBY62nGV1tDWwN153HCqMyqO+ZKte5qOL1\/\/\/\/\/3Bjm8m6g\/76VclwaeOc0NlkmatEeqYeLMgqKsFbFgApAAAAAIpHMEQCIGjASb\/nomXiF8m4yj42ksVSYZesPOYKnPIl504uA5v0AiASYPUKbAw97e2\/HGZtbJM+Elcej2Vpn9I85krlNVOOwwFBBEOknAa1OfGgDE1D\/LrnXU8Ppls3zCPHjMGg2DoBQRaFps1PII+QwMURMfmBSLMjkRemOLMIeIo+5Gu7LjB01Ez\/\/\/\/\/n\/CkvjAcz0wqZ3d7o3MEjASn+qpIjmbjyDrUujETB+DCAgAAjEkwRgIhAPbDogS+vEJ40jKYzpTBKf51\/eQG3fgzn+SQaTSRKylzAiEAyP\/NKXD\/M2RMuSgAGZIe8\/9KHas0HlNEDV5YMShx7A4BQQQ\/Qi+jJvRe1gciz0ZiEpoxwIcbrXgkKCmJ+duj8hfubekG3KKgIiojoLjpXa9FmeCSSaDdncY+PAi+n+\/\/tXcC\/\/\/\/\/5ONoUXKF1jbsXhZfwOOGZah3obDD1lLmBRo61MP8WE9AAAAAItIMEUCIDmMP\/3bMs89aUDcm7lB\/M3YlXtzVs1PqrQC8MV1HhNlAiEArUfI1\/ZVadC2gOiFBiueoMUy976WeClieb3OiVq9tD8BQQQ55n1QcmOGUf94QJXh82S7AhcPO4HdcVOtvgA1qFFGAHuBeb0qONwOKaK4oJbp81A7MHYj63a30WLjzT9pSr0p\/\/\/\/\/0yylb0nKeL0ZUGQtygVvA0JDDPmQJJyjWF5JjakVdWWAQAAAIpHMEQCIGmniWhlsq63a0gaUhFTQnADiImVBDCoVI9uW1ZvIbwjAiBrQV8+dN4Vw\/HDo6tp2VO2T1miFmOdUCPQvJBE2B4AZAFBBOlWw4rmRrly\/o7p35MupcMzIVGhI8R\/BwHop56Lqh33g8EPH5lhZvDyrQn91YG1xG7hXmBBv0IGT0hc\/IBZMZL\/\/\/\/\/AudXc18AAAAAGXapFIlXbWdn1WY40zObghcE8hk3V96\/iKwA0O2QLgAAABl2qRQUTbSqbmLg8UjL5lI\/bZU3KaVo8YisAAAAAA=="

s = b.unpack('m*')
p s
p s.first.unpack('H*').first

# require 'base64'
# i = Base64.decode64(b)
# p i.unpack('q*').first
# => 1297036692682702848